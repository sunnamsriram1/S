#!/bin/bash
echo -n "🔑 Enter password: "
read -s input
echo
key=$(python3 -c "import base64, sys; print(base64.urlsafe_b64encode(sys.argv[1].ljust(32, '0')[:32].encode()).decode())" "$input")
tmp_file=$(mktemp)
if ! python3 -c "from cryptography.fernet import Fernet; import sys; print(Fernet(sys.argv[1].encode()).decrypt(b'gAAAAABoe-2J8iUylG134OKcHnVkrDp27nc7CHhmtkONATDmE6WtDTiWJfZIlSwXWqlR2LKa-sPCSCT1xLgOQ6p7kY6y-ILDpz4YOQPq-mnU_hJ0MVTp-yReapsVLyUllxlWsBp9wr-DhvmUToGEC97zm2ylkg88Ow1XRJ_uXS6GwMJ1hoUu-VaLKd9IySoTRhp9EQkHPG5Ju7L5pGYcPZXhtpEuiXsjhj4B4eIJ683EfKrnf8y7_26zhdMpvou2cNEuJqNQO5KvwtmHPhH11j9Y0AhMo0J3YVdAKLLaBPE5NrTjx3lNNhpdIwhIz2vYg8MQtHqouTliMF4Zxj-6IwetG_8Orjz58LmZS4Jk4pc_qcgy8NsvC36l8rju9xR4zUDZ0tGxOFRWrIDQoVHiajnwdU0Kz5mA1DHRJja0J_-RFMdiiFMqfM8lVYsiZQuMIBiD57dNkrnIe6uQvF81gbUbEOJSzhYFY-x1ydOaBlsrnjG8SLQi3PfJGIqo4DF1nVLJdHwkoboHEjgJQcCrXMAGquILV_w9w7X21UxBsZbrlbUeZzojuMw3A_XMq1_JI0RyyNVrgPJOwheSXeJheQrvUszbKtdOVXg6pI8RCtxbC-d6kZ-JG7hSoIqOIqkBNvdCBRwwWZ7nh3DfJ_AQ4uxEEmZmMJLImlrLVHWQew9v2HBOts3N85upWvycFi3tEn_95h9KDq9OkZYoTR71qXsBIQFb-TQ9lS73wDGcu8Xo4YVxvN4mLtFGnCOinfie-7RprYqQgy90kLnXtbOyeYN1ZmTg4VzlYAkAW-D51HDwym6dW0wTgRnz52frV8RUeqZrIKEfuXmJZ7NiVx61X70TSlGWxjqBTWhfwjz_lbt03fBwbsnJP6R1PwczrNy_eLEERW-BtZHH05d0Yn7qr9GtZBpR_BLlr-52YqoYRLonVK24JZwRPuLSRuCXynJHsPxWbO8rHUV8kYVMgokKbccGwh616m9T--IpEgTwlnqhwmM68kcfiHs5M23-Fk56S0BXu9isQEoslTNJQ_N07IEE2ccCY2Fb1QbQMkCYUwCvUPdJS5DhJ8mSHngs-fwFHf-AY_iCWTX1-znULjCKyGW932dPN5UqhjDsxyXzkqkNPgyuARrMUaN7rsSisczqRHBFu_KeCSoNtgZMZFfjV5HAiYaFF2ULoHTWwpmpmJzhCf08l6s89UW13t5s5h1fY9bjqJZHc8IhhAyoRqK-gVHKqOq3qUJEp9LLeNtwuGKaFj-SbHlKvFE4kTgGuvAoUtxr_W1WJh34qMhb-Ap7BwXxGHk2Rv71ULeppd3arTN0iHALUffTepR88YhdvmZtvX_LuCAqoxswuEY6EbB6LD2GzJM_qRdMSTitSWYxvhGGq0d1O1Y0i5RuUYSpTyiyyDTE89uhpet5kJMAX8vWovd8AytF1jFXysqVAT-5bRKEgrgnmu2S9EXFwMiDsFPDvHX6tTbQ6yp9yCSKZHDh3fNSEXL33CS_VJCZ19Tw4tvEc2M_dNTySsaJ9bKEc_cUBON1OSdB5Z07fYaUA0dkFj17oJZGpk08ewWXFh0pGfrEFBwqROXD7V1vz3SpP4N53WfXBk3sByLiXBQt9euCDXUSEikjX_phJ0QBGYLwa_gNOpEiLNWLsyUfvZeP24y6QoNbQ5ysARaYEOH8swoQ6aAOG4aVrhkMuwXurJwgMmJokB8FG3bhPD16VruCfO8PQELJf7ybYDzhxRHGkxI8uQxtyWtA_l67uakVlcaDKpyJQFRWqn-mpJlwnQqw_UJlR21AobOV2XwCpeBu8dnjDWHDBzWvRXTZm_J7iic9tIoHwtj-D5XT278N-4_mgYRszktks56qRkg6gf5vsQx-fZNORE-itIm_rL5Hi6LPRwQVCKVEGgGxGOky4Ko5LnrMSyxDa2NCGYL1Qe5gNorIDM-XUJb-e6Zg8hJxwGxKoB6ePPcmrps5FHGtsLVi44a-ILioV0Q91VjTr6ilZ_NWCceeC0h1tYcR-XbyKf0wlHGxL7nb4e8HPM747WEDLKJz1Z347Clf9szbm_zPbh0ZL8I1oFOlDRiZnQ4caoI52ExgYUmXZs5M-VhPSAwoen7rlzpllmhL4QpprfvR13lt-Ol6vUMhkhkmv3Qp5ghqtl_N5DaIT_ieKYPytl7bcEY02oCOehzBJJMSSd_iWQI4YYw8qnz_AZ4L7g13oorvtF1gCa4fypqi2-Tt3_lqdRzWsPDGmRCWlRAW6PWtJwy2tT2G_LTei8ED6ImyzCJtjt4TiGnjWWQcR9Zq0abaUagBA1YCgiY4ufW2cmmVmQmgjtsPWCQ9n_IuY7LlKaFDHsanJoI89_u96CzTEhN_wLRN1ASd1Xc768fvAWOhklxkpgPjjbZV6lvAQOel6AosYt_C1PczcwYB7iRAHWJOga-np6rxOlEaTLqaw4DRBeZ_Rhff4n6JaXvpNBVyY6BGPwsOIAgOaGF2JxTWGpy2KRyAVqCFBUjk58JhdenqaXhqXssj9_mgjASV2owczK9tMzUYwQQ61uaoxef_wElaiQ10oW7wCyv-cnofy1s1FN4ds5Cvs06-Qw6oHHRaV2y7-3b5j1fLGltXMPXzWXf3NqTnIlNMYitzjCslHDnOEH-NrElVZx7-S7JTeCQmMP8c5_Q1_G6f97SoXMNtRygO3aCbnlDVxa_XKgfL1nmBbg0l9_xd_9JwreN7eZY5IBysaeojTdbvZHfJuXB3AgDGAf2nbUVKebJLDz2Y86nq7_KGITj2GFRRwTyfRQOGGep7d8Nljtwip-qwFCGa2qrlDMFzkV4J8j8ctA6Lg_EMsiFTLbQRkvZs5M3BmrsLIcpYGISGSSY_nFWyuGeNT6r4Rcy6pjS-N5TOjfyivhRE0DczqQZVr1-c44O_JMnRRoX2RRT_TsoO6Q_kIaMKGPmWk7WT0O66X-2kqKu3T0m5Rm0pM9u6NX2YEVIaW23R1xDiHqynV9DOPLmIz6smtaZez2GftNQT2ayeIE5sdaW82mkgiIu2ot0WV57DXK-r6SKgiXwya7s2lqHLqjc93yua2VRV4V6flDp4Clh24TinS1PT0Gqz-WG49-Tdf6GEHngP6eP8UKvv666Tzdyy_Ym9WfP4ZKDwk-ysA_5ClmdRh5pRYI8OZx_KBj7NFO1Wtdn17s6IOSQ0P9Yq0Ldctvmc68xoAj7WXb1W8rvMFtnerlNdY1aNVIq2YuJokoGyFP5DM_9w_qW4kodx7VjjNNJel6fQA6g1TGEnxJqEv2XWYbGGuFq_fW6KRD1CzPVr8tOQNDFZ2YyX_uh5haNJsKGH--axAeQeb3m5ozWBD_XICwZzZcrzICuBw0cL1mlUvmCeBvHHnU-jFIFAugxSk1Vc9EUFb-xJonB1K9qpWek48FPbEaXMQgbfUtXsQaBVnSrf_D9ayWTw2Xx5fVTpQje5H-sZEUmg-GcR62rITNg66U7GrQBTFOmcplc7BOtDOYyZ4LgzgnLrQVmVRg7E8U2hm8oN0C25Jo7R29H0yKghgTPMC9DEoEUeP6UpOEapI4wHNT_A8mboM6Bu1oBVOqry3BY8LCZvc1pJuUoJ-jnJ8ipo1QwrfK7eykJCqKqZ3LDnkd3jswroPd46Wi0AkqQRyMaJk86uMbRqNyehpf_kXoGmM9qa2-kjk6NdD7aNiwGh0jIM9FDfX806JUZS6IAcDQSQWvFRV5-T95oc7V2Ez-cG7x8FZR_YwEAKXAE91KT1CMTTk0dtz_XO5aqCxV08RICG2hkawOTQr5JcU-EQql2uoFjk1ncH9pPyY_XYoqsQBVjHP0FWcbkqa8QCH6RfGrd3AHaouY1VVRFnTQwuMie-4CDHZSYZfaGBkoAckVb2QfI638fdhDZ_ULS10BZzID3GnIopoaPQz9c2pUg33GOoJjbhmX8CT_l6J8KhEsvn2R1HqFwcIB1f2L3S2KlNHqsdSpwNzyntIuRW6MyWJrrLtH57AD1zBfAJrce-duibzQ4ySKnG2QUV1Xcuaz6h4JASnsQK_uoOyXvrIFvEUANw_gRo3f6fJl3VaA73o_bfMft8Mc2-CIdrOzEG46yMHFRms5EWr1PiZBedHIkVXWV6-n-3eEiJVkhfbcu7M4xxtxRuNkxYuTs4ugCUpHx-TK1-P8teeugiA5V8dLYBafXp592aazy_PT9n5Bkay8dQuBvXGx6weeIFZt01TZSngGYdkOID5XaEcKToM4p0ucoHkcFplR-2-7qRGRgqiBz1UGfkoeqr6d80I868-pUfqTqVnQlOxwBt7kr4li72dpMb0VgFLyNCfPZOeTEiiozWHYR8OWn6FkzLzKHKFyAPI_2JipMNHcELo_4GweaAtTRpAEfCTp02S6_vhzzKxGAiA_rSdqm_RlCPHvgtJne9oKF3oKYS29SbXOSWgjxlESZtgdoTr6AO2p1UiWsa3xhFvoBVW-35-HHvAlWZZgfI4pc1e0yjIkdl1XlCIkRqT__h-ro0gdQHYSObPGD-fOZXa10zb7y36Yw35v66ctGAxU51e8l6ftQatlGvVtoLhWoz83OXNLyXqRvxUGOSmnKbNwqLyouFSzU_0t_ujhujJU7uFSgw_R2d75GVdLPmxTk5Ybh2sDL2Hf3h-qNOvJbJVyos8BiwbjN3jATmw5OPvlvASA0Tlyb1w_7w9-bu4wyhApirqJ_QmVP_JsEyW8QhgqmvbqSF_1ji40n_Pwp9zXEb8wMl64d7-xD11vSWhLDn_edLn1Q1Iig23aXBFfpGzNYxRIMFIWqFoPD4rm9Sm18QAamAwFTliSAO-HhA5ViBUP78eXVVpQhE89wHOttEgk36c6bJfAF8jdQMwoSA0PW4okETZq4S5ciwtBtlu_MweiEPN9UYURVIzQ==').decode())" "$key" > $tmp_file 2>/dev/null; then
    echo "❌ Incorrect password or decryption failed!"
    exit 1
fi
echo '# 🔐 Encrypted & coded by Sriram' >> $tmp_file
chmod +x $tmp_file
bash $tmp_file
rm $tmp_file
