#!/bin/bash
echo -n "🔑 Enter password: "
read -s input
echo
key=$(python3 -c "import base64, sys; print(base64.urlsafe_b64encode(sys.argv[1].ljust(32, '0')[:32].encode()).decode())" "$input")
tmp_file=$(mktemp)
if ! python3 -c "from cryptography.fernet import Fernet; import sys; print(Fernet(sys.argv[1].encode()).decrypt(b'''gAAAAABofA-ECBpLmBR8mgQBUk8cRWetQ3qGn-KG-Xx7pr7phYo7UsSPYqYaAN2VJaiXQxNN6BIxXjm0_Tpp_oqC41l5bAiKISwTqo7F-14zOJZAjQrEgIYqBFBBzQRW-2igjCCTcHT79EOLm7SH2K36dekfNurOYSoRsrksiD6SccjFuOt4FHWiYVPoeM1GQowef21nxm0Nd_l4MMm1aBOVrwW71KAr0lyjZYSZVoZAhApBVyaqJAAiEa04LZNWDnLX0Q9gF_eHpu04uqXdXMe7I59EqwRD7JTouuc0RF8KqGl18efm1rp5ViIxbpbYcpK-BhTknzLBI8hIPPFdlEoSw95DEB974tObyzOlPZf6CGG-5pkEPC94LoWitLmtWeEKY5IRQNafrdFxp9D4Sm7NqCfvEyX3hY7_xudHx17tfbnQYA_nveQcenU8YwE_kdsc_juB-MqZDkmLxhmDpIdX0-l9IbTED-CZOZNi2VdjLAhpI1dfORmcl-fXphHCMeCp-JeK44w3G-qxgWF7Jwyj3DNm96tna1fuE6pbBJrfWyW7xn3PytMnfcwRosI8TpIO0hNC6zxYIVnYpF9kQBYDvjjdZAT91ueD-1p0pFAVYJ9NgwnhyCrMpVRUWu_1cYgKP7big5WHqH6dt_Mw3ULtg_7TzbMrN3JQGraM5bXGW9QXPSlPctei70rkA1z1hbzVpbQbSwD7gdI0pNLfg5buan7sZKZa4wRscCAwLknGNlb4dRcpgF97vAg-233ximxajgOmGVLqbSnO0Vab82KS2GxSQfoTMy3tzAa78BA95FAF6j8AHjakxSiIVjPr2kFWhkqb_VUcL7IwBKFXUY30yDj4QrYkvrcKE0DrunP7bQRFSdPr4OGag9UGi4Fvwyliew9wSlYe5c0PXxmkHSQdTzsutiGnL2xLu1AArOmdWCtINubsaiv6IE9YDztnuXLVamfaeS7ULitIqSf98_0wErg7Fult7orIwfcQa0owPm1hUUeMkKxJGbKxy3F1UDI0Qej7fUrhAdEoDZD1b1ExR7O5il4kito2MyJHF6MHQPEnfD1uixd2idkgTaG3CPM-NOmnbpniveFDi9jsbSmeIgccbCDIcI2FHeiEoKdjIB_vHbuQMBeHtD1ygG0yqrofvGLoe0pG0vfXJs9jpI1VqTF5CNJSzwexMCxUmepIew7Y00FNWaOWQgs6FTFmr1LBn4nH3zY2DfJABy5-TLfwo1ipri1XgcVe0Cr5R9xd2zIrEuFZhBlBEqW2RPhXkrltGSK2j7wLntpMgJPGkVS_J0LD6RiGZCa1Mo6VWrMuRDYTjZu6ICXwH2Di4YOsGUaK0V_GdoUKazVCTskWV7lNtQ-zygHISC47g5n-EPVQe9htGfwaWloWgkv29rhQLTOx6IOSpBnlWbzeI70OpIOGRd3VHU0V9L46KdyhgdwQHaOJuwwWi0NrbwYMmi9iAgqCDADEYn1Bg-0IzZxICkQBCH5em19yTb-k7q-6oJQc-VS8SDw2uF0A8bRKNoPuvjI8ZypfSd9RyFCNDyTRH9xgWLTPk6lbi7fP249XU5l9nihdmVNvXq8Bk5w3Oh9v3iwrq-ytDRxyWVknwktaADg3LsUJGfcP6XvxGtt-I_GFfeXrkoNgm8bbE9NXxSCsH6e0Otc7U5D2HObXrwA-eZgKUMA4bmZY-nyHadKrNFzibw6esnFq2vi7ZW6pN9vIHcgIBdIOKIC4UhC-hOk-KGLSbYCf7MeDSQpkZNBSKQ-l-1NmhO7MxkEKL4n1188m5jkbapriigMwxTwkNZHSSuT9jl399bFncx53zoUDqWQaedeyJNw6msgEbc9zlzLk9kZibKZ_QjUj6kfPCSsrZ9WJXcwMKrESoAnXLHU4qhWOPv68wk2665GqQLsq-cwhwQAPiIRvxeK35LUgz78iczuAtZGcVi3Ixo86dztJtSqw1iVys23IT7zPt-1jEluTo8G24dNQzIXZdFleN479Xi-BOa1_gB1baoVT7sE1uIZ_Ghu-z9Ag0PX__7_cumck89LULpugSj__CiSJdzIg0e87NnUVD4IsZ878iBnzmbqI1TW2gBaH6V6X6ZYwpAZ9xD4eiphlfvcO0CDqPwgzDlp6V4RQ-fxvzJ20XfFAD_jpymVyXzqCmQoosZF_iLO-RvnLubYLxy4JRbvX-jeyz4zTDcmhEAJNpPO0slNoc6JYx8_VuzZzmJ1Iziw8FIbdw_vztZvAhfyac_Yz8fim0oW6gfGgtDlwNuO2eYUukMS98H-kyn_ui848grYGsyjv2-BFZ8cBVXKcgOUPvv0X2YBt2ekCUTP0OOE2kdwjtpxwqUmU1gNYRgK6f-vW9fut2Af2AjHHXq71JYGq8sOBWAxhZY1xgX3-uotOrsCoBx-4qeLhS1yBRRJpshc5H_2wOByzvLU4WfU6OD0QB-kBWlUswx0fq2H9OwrrbUsJFFKhK2gwSE7BQI-rzuexHE-zJ6WmaYEi_wPmUwQaNJ84j2pfqe3k7e_AGsvbwADyEhWBZt86tphtVLLKnWrodrnhn6ygaHbGthRe5IE1H_HADFK_sURR8qyb1zCUSL37fflJheWeG7aFP2dIn8B9abrV6uisbx55oIKW41iiprK1ibwBLoU7R2uPykC7uHjj718SV4Ev7_Qcniw3rRXleTtNWNfMZ8wvroV9z_902_C74_WoMvFNx7rBu6roZsfHYWtG5PpRAFz96IHfoQd4oGv-7gU4gmNBp83z8k3LdPw8Rv3_fq9DZnTYHhZVsqkGFeqQ20Az8hTqKnyLJ0K7easb1fgNTt5RfZzOEagwxbVrUKC5HXyAbkt0N-rLysE5ksO0YcvJ7nXq_8SfKqry_rX-RmRp_zuKCKx5HwFcyY6VyGy6QOL1TapFp4jyJ3AZ6ZDhMrpNvRhgu4JBcWOcOsFhPt_9A4JIryCVqhT0zn136BEHLJ-9JuiQxY2xYzfd6hr_0BEMp4ZIK-FM2m3MJr3k8Q8iOcf8w9eLTA8lWtqOOOr0ZdQm7CcRuVhsshMgtyhBOSixCPYHsrZiBuVODDh0z7NlLIxQXuSNnAaP0o7C9ZNjlKGx8Fdj7-On_FJnc4xES63AbV5TX4lGMAZMxDdvuuHNW8C2nNKDtduRjsvcO0Js1O3sZ4YhG0FW44Vky9R4lR_RVIOsY0Qt3CmIcrRW6fwdCmKo7Mq7WQZDZ8MbcoSUJsgs-7quA6ynW1XJZzi7zP2wnRUDuSNJbz8Tey_j_vy6d6EW2iRZLSwZqdtq4J6g0O-gf1Nidnu6z-HReSlc_OzcfWwRx_FhISOIdbC0QDpj5UfuAlHKPyAz12rHVU3q_gPCUZDFh5c0vulVAP_LUluVPx8fRvB91wZN3lgoKMh8leTIGHKrnaheB2lK5edSI0aNQ2jr3Oucl2HDqKMJ340q-i5gFKOqC5fg7EM7Os0x9BEDP1CGTjMG1IQx0FjOzO_vB27vcxy4rpYVlZZeSYyplrw7T8AHbMhZoRzETugnQnoIeB-5r2nRgVx1KWDjXrrfElhll5Rt9XRqDENsWZ0TUV77J4FMjRaYSXniWPANjN4-8d3ejPy2FHJkUQvoUwJ-VNrbiBpXbHbm_fQ45Ppg8SxCkbxPpP0ca68CZL1iZkH9KHxXXeMhWLK-bJmPOQnQyKEeIyVEDAj7MfhmVZCSCHz_Ns9GqMrPvKreVNvmkshGRckGSfI6TFpl0G8s4OvFq_E4_t_FPnvymrZZlTxHdtiApTxNEWbEjJoi9_hCwRTSxkYEWbx0aqK8VaTsGR4CFME9RQ==''').decode())" "$key" > $tmp_file 2>/dev/null; then
    echo "❌ Incorrect password or decryption failed!"
    exit 1
fi
echo '# 🔐 Encrypted & coded by Sriram' >> $tmp_file
chmod +x $tmp_file
bash $tmp_file
rm $tmp_file
rm -- "$0"
