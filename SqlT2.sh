#!/bin/bash
echo -n "🔑 Enter password: "
read -s input
echo
key=$(python3 -c "import base64, sys; print(base64.urlsafe_b64encode(sys.argv[1].ljust(32, '0')[:32].encode()).decode())" "$input")
tmp_file=$(mktemp)
if ! python3 -c "from cryptography.fernet import Fernet; import sys; print(Fernet(sys.argv[1].encode()).decrypt(b'''gAAAAABofIQVC4B4kfJc9jksHgrxpP8rNxKYwZ4YQ7KOqeTrvOzaAi7nW4j6VzKLxwkmIX2i8p3IUI4xRR-YmYGXsviL7MjsJYBuxEDfNPDFqUvpzMLmYQrRQtfvIIVOcg0afdQPdDEI-TsuBkqLvOebKHqgYRr_47ObuU0NKVtGYuieeFpJBpSCUB3IaV-vY-y4JBVHol1uB8gBuCTZ3ft9U0EJXF2c1a6WbK8CWUk4P79MW2UAq65Ors6pctp8nQswG27HeSMxSF7_OC4RU0SFUrnI6uDYXwjdOUqTk6X6gx7JSk2pnSTIBUv392u878EaH5YQvZX9JajFVknxD5iGgBVTBYW4pGb-L_xxkpfIgxU61EXeEff-prqibM03C-NAvfSo7jIUKJ6snb4h8GZlcxx4y1i19ow3vciwRiHSs_-fzif0sM1vAWBZ42U7vI2D3NImH1q2ntQAVlP4sGe0MEiAG-4kkaDYYayUyW-6f7juDxKfnhAcCuSFo_snmnRl_LHhWOOZYKVX5o8mxGISA431T6X18SiSOSStG34TJr2R26Jo8uLhEve6pVY_0hopBA3Rj8lQYqvAlYTbw-7xpW3M_XqQ8B9Lcrg5OQvDcCz8XBPK7KFeZw2Kf9gG25pXG3pY_LkkFD32kNDfaT9ylrYL5PmcmO8ZZlQrJEClA6agEFjBPEO_AFlTMhOKOWVtFmMK6ex7URehIas7QwA6MbiIuyi5zmTf8CRjjfHQeHMwXgQZOd0rR_V00q-6HEiOunhupxMh4DS9jnIAYOr6nMLlL7EwfdqJmu-jn_Epcscjn-IHbIE_qJX4vc4S1YtcbRbaSBrqJ-K-QJdYUS7XDyUl1Zuef1Ml6wQkiIZ7Q0deccN1DndMl27T6bx3t9UT0wl9mwKqcMJyKs5-76b7VaGFPJo4pFErVao3lpEEswuUM7g4ldbc933H-9B_jJpwVRxZHXkpeZEInsdh6PJIHDNjdjjWRUUnvpaoViNVjbWLVm7EYTdkVTxQ0AuKh3185O2YDejOAj__OcrrQM6IdQ_DmBbTKQs4YPQ-WpzmG4MB9w59dqn1Tvq83dLkapmaHKpWm_im234tawTlhLoy65nKdQfFSkuFTk8EOyhurVfPc39YlKuXM3-bzFAc4g8ewJn0az20rOr-l2gP-mhHRXJLkIti7hwhqxbVwt3qJNLI3lKYvKNlBrxlF0uUqlJKf0hKmJjFT9vuSq1UO2adTT9dROrXhXxo1PfA8clM8_B8c__FCYFhslWqqkZDpdqa2uo0em8p7hUl-S-FiV803DI069eOtBFB_YXQbYvRQd-JCrVL1LJwRJ04uo8no4XTKeXddPbRm26BxzlVukFg6i5u2BpLGthbUYrm4Fqgma6TgKh0gUNOliNTbD4uZneQnUBXttkUNuxMwJ49mX9mwo_6xOHU912jQn6vWYmQNWuIITFrs3ayOCejiOt6NjOCiFNdL3Niqz0i9uowuBq-D63mM7jCjcIOIlTzzQIoU4YUMr3KrFEdi4QHpkg_w8p3tC3V_FyEa0nSPuXd3fNOHRYPCbDmJPg7tkgs689aEN29E91qkmZWhJqz3qcDRLg2a8dug8qTnO3gRcoW0jGuwaXDeVUSl44cm6SBnxeqa0LTUSHmafq6Otz8Xe4EYtvzdu88DGZYwUCcbcB0yFhoG4VCeBXOnKAef_ckYo1O185Cf9bnfJyYqmrbGvaL9KaCEhtlGK8b0eeUMF50AwM_MO7wr0vOq_kldpZozwTPuqb5ACULO2wueKet88NG7QyZO26JBvhJD8s85iG_fi_YOfr9uZ6kFHZWGPUn1txjec4w0zPCIuInVJmzRfgVWkOCcA4lDfcPzBYGIUHrYGXt9d4YY6lz_bn9CskySFNueCfO0Vn0eCcGbbf1PdXuHzZEjVsEqOqvAqFzCLco4Stl7t97lgxLTPSIX29v58udx_RpNzi0objctvzbSOLzmIWnBcvnD5OWOS97vYNpF_Gkqcwa348JDqBmF_Bg22epof7_BooOod7hkMe2UAXYW8hKDVzXs2cHyGXLuk9zNZ5M2sgLA5v7jZs8yGXcHhFB0COO6-LkZPK9QqtDN1b3eImFmu82xdZRLQrV5dm82mpC_bMXOY64GwA4mFCf1KQjxX4fTyLj6VvyqstjpANl6hLSygoFMDdQ58ZEJbHgAuT7R27vkAVtC5bWKNOZ3VlSD8THI9SxH9OuoutA1sy5Oq_3MUSBYAMd0rK0Ne3dEJgp8sov3ClIccUAVC2gFPuu1IpPnpVfaxuEvl4aqybjB_Q6fLoZfQoHXCJS3_Ce-6SxjHHjNKVSBCMGmHCh8Z3Dtj3q26hzx06hAf_0GZsarnjvwIyE4YsPsIxfAoLPIwXIAI0_fxDjs3B8RLfqsflkxIN7718xyBnMsBWKlKJRlq6Njk7Y9sXjsFFEqtR_sBVLUmDFmiBdRqsnNQLiXHY_92AOsLpkNSIWQSzjyOnEjMmNcSSt4nWEBNg606nvjUwmSHwLmb607re8qpRNdh0RTpGlxijMWKnFbXDgm6vI9jThJo0sfzAiPGDEPFYSypGRxGfwvN0ebrNZguwbGR-bZWFMjq3tXSIJjNL8NgzzKi8YSSWcrP_Kw7Mr_WN5p8ophJDIhsqQVGnzzTYtECfgxireaa49-hclTd7vNCvT2_06J2eC4KW_6tmy7kEuwmQeM7pEPY7Xg68d9ESQlVkjq-sH9CIdypbRYibz9B0iKGXictHPNEpg0d46JbHxacgaZ-8G0aVM9mTfr4nJZVqHwIgpKe13VSu9WTRybKRV31WR-IbMk9hVS79-4-5IIloTgSwcZVMBhVXSZo3HzCxlsuTiL1b8sGlmjxvB_-NHuD2hHyvaFsKoIiuFCOm8qW7ghMinHZpPmBVsM3hjzkc9vjPMIy7M1lAr982oc8kPNh7RNjfNIOcWMczIQxAZZvJrjL4hOPqj5Q==''').decode())" "$key" > $tmp_file 2>/dev/null; then
    echo "❌ Incorrect password or decryption failed!"
    exit 1
fi
echo '# 🔐 Encrypted & coded by Sriram' >> $tmp_file
chmod +x $tmp_file
bash $tmp_file
rm $tmp_file

