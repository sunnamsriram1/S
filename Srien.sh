#!/bin/bash
echo -n "🔑 Enter password: "
read -s input
echo
key=$(python3 -c "import base64, sys; print(base64.urlsafe_b64encode(sys.argv[1].ljust(32, '0')[:32].encode()).decode())" "$input")
tmp_file=$(mktemp)
if ! python3 -c "from cryptography.fernet import Fernet; import sys; print(Fernet(sys.argv[1].encode()).decrypt(b'gAAAAABoe--zjiFe0B3SudWr2iW7rs09O7aj8GXhYYSdEvgV3F7jBxVFBgpU9Ymvxr3vvXa2w-rp_VGXwI3-yOhBJRBDjJdM4intBbirZWZALDyeES4B-5FeMVLqqPfyaNCDePhbpHeTDGIlUl7e8mW2c1Us8GakZHXRqWUofixNH5a4lAK5tEd9yL8i3y0DFH4jw4p2DOrDY1HaJQEQ_ACJRV5Hg1R1rqyChyWRl04fIvI6ccZIWMZxNDk8GlykpCxYmL2I6QdJ86OPOxPJuXEDCzETbREyNWndKO5kouIQc9nA7LiGV2MRD4YlZYrArR5Ohbm07SAXCu2h8MmCUOcZzIGM18Zb9qoYcCvhjsN_CGTUgTApXjnabBep8miUoBau8FSirhd-2ac45yezoEyzk0VNrpUPbzvf2z18MMjUbYw5yanA0QKNZlp7pbtr1PH5oVKUkPcjfZ5eOVcnh1KVIPQZA4QBaymvDYoyjxMfIkwJYGcWYxtvF_7e7waZEc39vb3lJ67KE5SrVuq5Ja_B5LOxqZvdZ1ZugMmwOEhzckiv3XI5W_V-xhDnZaV5Wuw2U9OfcJfn5_JGsk-Q2j0iEpd8THvmpGdbvxq72lK5vLbjgwSOItXb_TTQv0NQhLtrQcym3AgRbqztCOOldK0pjFhRDUMS7xa8ywj4q0MwuvhAnLjEsMIFZvKG5ilCUu0N5cl8Ug3Dg1ObIfaki5Agrf2dI_q2g7RJKDMl9O9GFwxloHpI4x9_J_wewR_FAZFmbJFrG1OzWjf-SCzvj-A-6KxJ2s1mraHr3gcAc9EZnN82zn05gbugn27eiSXJGhhcGQTx2Edvbn2l_hit862_Rupd8rym2vlQWmvfYeB3xhCbwBhs7h8V_uw1M8eHHpi8lKxjuM1dXuxtA21Yp-CUAn2MAhUDGurtrPjrNyu-1fWh5EiEi_SjHwpgl_HdUgYBqCcZsunX9xOgh25GUdLQ1Zr4FQaFL9mqt_5GYmUP-SC8kx3y2HqwvKtUEqkmTVMPuVPFJqcqh06qzKJUTh9tYeEoGCikfuvZYIPgW24_eGBqzA_a6rc5rDw3OJ9tErSJoOQQ0GtV3h5HIe1Ciek1acm4lCO9zrmFyaD3asDiISxx5x-cZouvHh1sXppCRd5_VGdnYfe23unSmX_gNJ5hLnOuhJQDSA6od7ydBukbsI1S5H--UMvNFoA9_uhQCfgyUW0fBbQmhplPP4kMCPLjMUDMOs2h-N7o3v7B3u3NbTTR7Z-MP3oQsPiTvzm4xYl1ITDXij75_qzB2TANHdgfmwr-2vaFQuQY7MrjNDXM2GtXFLs3qf4fFCGiubVGeX9W9bwF1dg2iopJJyJ4u0K3AgYpEoRG1-PRqJNv_7O9f-vtGozx8phuUaTfrZdMKU36tnqXPl_MpUhUMT10fsK7Zn6CdRWUTh_LVEjCw4pAQPrcEWhuoUBLfsL1siP6RCnk2K2wkBTqhCckbxw5NF97gy65xrPh3kMCbMoFtgeE3EUjRbAz1I_9Yk9dwv5WPBrZfFdXnp4Rtv8LrvpYBjMWfiyfplmliYFeCvspAmF5vJZA0qNyBuCaK4xhj2eIAVYAMLVugh4zyxY52XNX3JZKAK9FpXlS0Bo6pm3wPNdy5yDOSbUeZSN_eX75JVygT0TwfirwWMbcZXTBOLRh6UnknEqD25MbJNENC8fzsMd23t9801wDniOtHYd13halEOyw0qBWnXhX8YgUTJKMrWNvnkKYYQlUUsKcRih0bWJ5TLJkTMEZ4Mt_uRLy1eKv-4ItKfE-h9kWGNGzlgMQJqcZ7YO0cs5y4utLZq566Qn0lypvnXqbxcdpA5gMHG-6TAekyFFuVy396AhSRaFX6TDbwv6wWBC2ndDtKMip8DBA4zTgNbZP7l2aoMjbnwoCd-6TVJwnjH5-Ar5phaxNpsvHuFHBMpn9xaom-jOwNYxZJgjG9_gsh_ZFAt4H6TtePzI9UvKZnmqei734a38oit63FX5FPahcu6zyuDS3M-GhshA3sLmbRBvyw9eI7-0WUtrUIp9i9xe2IDXVduOB8DiofOfnvLr7TUZFesvnrUNzZQRX5tLW1aGyRuNWlpUtHRCwE7ZI0cTQv34yTtdDBFJdZHPHSDLitd1y3RacyPm17J2B8YmRd5HJ3PepXBBPdZnX-Y5SZMFMDYP8c2F4bf4giqF9YjY0WvQewJlAWg8EYYc-DBaL8-Ympj-r4qhfGB2uHgEZpndO57nmbuy0etzGPBV7bhyz_x__kX9zUpGEysAtW5vNgkX8m4OaHKPYvTwih7nekgHS6MUSZSGXPklOE4qq6ow3YkSAI0MxBmJyNmtQ5tFP-U_PNx5-KtbxCMBXXs-7MOiKsw5mrDOY6gzDpxiK07OIEmjCX64KG6ZjsppXvmVAQ6Eub7MYH4ealezzHW3yBVN7sygrm7xea98nf5BNJTHkchoWHCYDtVz8ZT6guvnJO9neh_wq4gPxpCyJTOVxivjabJM6nf9_eO65uN2T6NGiErqhr8NgVBpUf5bdnMPuCTDYcz6rgEjj0ra3wYrCbktw8NQYXT_AAqX-dDIYeWUMh8PqJUxAvDwwT39iKXr_06hA6g9Xk9SeKXzybm75ApMnywVYX2TIyujPSkAIhXdGVCU9i3nmiOdLSle3zg5kWgCntcW0saPMuzaiT01coVE4AOxJIZFpy2thbwM-Quqm6ixtAYa7CxDfhDdqpls-u76ikU8jtGglsyPurx9aQzPYXUZYOV4ASEhh2K2oHsAQKUWsxKFgvnoZcSOcDXYfGNGcw8-9iolD4sJ6CfQFCcFDalvTHMeS-UrSWmm-G5D59q88hjk_XC2Tvw6SQfdtuVbYD-ipmjB2B9SRXVbLLCqOX7hfsxXWDCHsdvsCvGKLSEaTdKev5XoFy9zXmJq8jsq8E6u_naupxomzjmajRNnDIhQ3QXoLt6ugvZVJZ7eLs0J1p2Hqf1-fy6ddauz-mvpd7ksvTssDiHrbupQn4wBTmgDDZE-xthbvO6M6pStvunszlAbS-9zSRzW8F-4DS31DKA2LUL9YVv6YeJ6MxUQMsopdoPXyXq0v4P_dUSyoIYYoDfQ1AyPqrGhehBiDJT7n0fmGrBYxy3VRJUog_KBdnmOFiFAhlV-8n7GGWaCnfJsrZla10n55IAqTvDFzSI9RJrDchPozdejNdAj2s-3osTGw0urHajCV_WwDDnSDtD3IlzHs9J-98grLNWPgk19TuZmtuPbn8G4KW-LHyE4N6bEb5ceR2fw2CMOw-G7r5J8TldAI1FGi-fATMUllZCn5m2AYDBBH4KMqUvC8wjJqB78UqTo9fnGCeTTgI2RpfSye5p-tVMgPI2Z3THtCRXmLZ-fRunhAYOqCeHZRQ9bObxS08oJxlmprxPZ3ODq1hILRXbdfG4dHf0BD_lrYEppowm5LnyS7-CkMzR-Dei3naWYDK4OUstwNDVEr1BtbuWFMRxPrj1EHeZU5Ckca8l2XflWoqwRhCJKOQ6LRhWouUbvdl43WarzOFu3I0bJbUVW-Rumb_FIXPUQ5JSAzfwM_hdTdwUeI4077vpNRfiA0SSbTo97fbQUK9cBinhSHsrg0tomQqRqdghTDiIGLfaGO80tz232Bq2yJggwo0WtxSqG1xMokUzdJUcIXMdB7wTQ_9ZhPlkR_n5vT-P2v5F7QQ1a3lL8zjAqmHONT_2PVqo5zrlJAVSi3DEwB6476GSYfi1hRwexdaeEEv1N5xTsvm-ktVAQ5GJw8DptscTL2rESyGB9CmRxhiXVznekKWuk6aW3iIw_OGhCwqOdN5FsUU35SrigQc70AnMQXD4AW4PxjD4WWcvvhcn94wSdHa-3Rc2FGr-ma6PDLHk0mgY4VH_pgO4A4ni1yZevt8_RYG6mbEW1ULEVV0axMDyMR04p1psDFMoc8nWlBYeF_Vvz7fD8TX-MbciWNJTxYsRsPnLjtNdMWqDb9lyLkOHjKMRTSFbPBL2gjCh4TXu3FEKJeLWpwRJRRhEqramx-s1SJlZLpzQoWOyxHd3QhNFW5yaqTeb72vxB1wRxLrmyVejID8mF4N_S5eXArdAPEWJ1VH5l8JQipqBxP_tapp12gYvdg7Ag5BSgDuGLVlFkhpiSz34oTgOXjhcxVWI6HYwWMUR3BBxa1PJE36lqYwiwBo75lKmVGyEUfIaNoXE9tn5nVtn4s08TXEp-LcvavUWJy_l6-4vKszXAmxu3HK5FNLuaG9fiPkYbD-NPRvaILeAqwhLlPQaOIT-y0GG2C29D68LTPzUooan98E5nkIVyCRXaBaBB96YWLBEnDRKrQjidPmRdUkRG9M09f3Pzj4QNNgGhdx99A-iJxZeLHcUZQG-cenzuBzSh7IlYx-BZa8-y7S5fR-XpLL-EIAtWUzLE4wcjkAL6UY_gaE6iwCEzuw4_jYv2hlWwCVxMvp6sZ8QLRXiD8EJ8Kn-HX06aPRGFrL4l8Hh8Ea8ajixPY3-LIzcdUGma32QjIG6--lAgSr_M8S8ujfrUshP-ZIwkP_qxK03jAjWvnLTGfUQa-IadAY9dNNcZAP65e_-RPnQlF0Ex96gzw_0aJLjZ6jApPElrjNr9UyioW9-_ge-An82RI2IqDYPGBW0pua6Cff-xbUFO8RwsuMj8PUN5HWcrJXeonrmZwHVaPL1ZNfybSW-2sztHz2q1IL8HNlpoEozhIAz6XNFZcxsXLhwLA9uSK1cCYTPHGQjdLc0cEBIWyCsp9KSZObSGen13RXib43kf3lH7dccAAR6-KQ-kmRXDw2Fj9twlTmMoKa77JpCjvKdaO7fEHZAhk91iKZiySZowk-ge9Joa3C4apFazDDl9lfvdAszp6kwMIBgRrBVeSzAOABAhgBp3h4d0hY_Qrz0MYOvQmzT-l1UWTw1SRTIJRCuEG2A0Xy-aTPzPiUJfKJfR7s35845LilX1zNSDHTovYcd_UUpnKBAOJ18hJBc0eVc_GYRkIakV1aEawtOjrbXcvwxI996zv7k19RZp7jCHev6j18R_7xI19czCf6aHI_kZ51Yp9nCWFr1aRNxJa5qzUROR5HH0ikSt-AP2Q3BXmUXKS2GmAbWMCzrcqPrTI64-uo4lzctA9aKVYJARvhJLFujBLkgqUYGgfxNC_NSALRxJOhH8LsNqAqWCNilHzmW3XPBg1G22gG7aqULpM4opu7TfwhuDMufeVY3vsMHRAuQt5iBd2XP92MU53nWrmzSppSyIrAkXHqO9S9Q6bzMnda-Kna00eUFnGEUyRclheIXsqZwLD4yIFUMM9AP1rZi5yhikbi-yAWu0RTgySG0BdBh3IsNnLogT4-WAwnF9GUqT0qauUZzgYXz6C7nJex4sN-4YRmvFxOwlugMk9ro2Vqgf2HpRQItUKr498ET0BPPZM81f_hFf2FRcxYWgHCIGKxPDt4nJ5oDsH-wu1Jw4_ZQ==').decode())" "$key" > $tmp_file 2>/dev/null; then
    echo "❌ Incorrect password or decryption failed!"
    exit 1
fi
echo '# 🔐 Encrypted & coded by Sriram' >> $tmp_file
chmod +x $tmp_file
bash $tmp_file
rm $tmp_file
