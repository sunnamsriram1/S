#!/data/data/com.termux/files/usr/bin/bash
echo -n "ðŸ”‘ Enter password: "
read -s input
echo
key=$(python3 -c "import base64, sys; print(base64.urlsafe_b64encode(sys.argv[1].ljust(32, '0')[:32].encode()).decode())" "$input")
tmp_file=$(mktemp)

if ! python3 -c "from cryptography.fernet import Fernet; import sys; print(Fernet(sys.argv[1].encode()).decrypt(b'gAAAAABoe_dXhxDL4GElVj8Ua0_9xnl10ifHTmwj5kvP-x1h8tW3uxyxE6Ep4HG_t7CpVhwdP_YfsYi8pcPecL4Kqoy-LzT6ypvbda75uU3h0oeqSEuNt8mY6ZyO3cer_iKyo8IxKmXVrp-hBHFtIjHqxZMTW6k5YOwiKRAPXSdqPWEcUGnpQkpko0GppaBfKxzXPUKhvLdpO9kyBFs3Xcehp8u8st0tolMfbmrjTRaGnCzJUFfJiBxbwIizww_90azCaYdEjwIDfLWY93VXnQeBNkZY0cXDSOnNJqGp1Tkk39H8Ip5pTv5ih7EGCXy8gpGLBqW52bDEg9bCiW1eHrl8NrklIzNY0Crw3HJZMGL5GpCowt5vl0wJu3hmGgxm9J_tTEsWWGVJ_mnqVLmvG2Z5tdhbjimAUWdulKmjLlS1sKUk0pLvd_O2b28ocLdrvM3KEFP544tpGn4s1FWJUSA66Hu1PPMKqVHqxkYfhhpBEpKT9KBfpVutDQANxHwVSKuFQW5ydvpvzGSyD1BD1p1YgxXmkaQs81_YFX8LQM7awmJVNJDTOwSreW9c-SRvp2XJ8EHpr7P-RmMqVqYnqhXR2Ba1Ht_lyrM7w0cIfnojrxbfKNXpgdVoGztj0pPMHebDyk6eM22FUMtTRgBH5vsFIMENfMIabNDGM-Dz0tlzu4QywJ9bdj8nmq0LXtEbOs7KuGrw9fTP3PYA10KCa1f_o2R5-DCgsMn0uh0evenzkMe1tb71EKvp1qzB7I35L1GQ0m4pzQxwJcr0uJMNMWnTsujWw_6nGD-xIokv3x2c98HW5BF5ghKFrx3h92Veyws4Ps7lTFNawOPZDUNOrZrM_OA27qnDa44YOiT33uIHL7eLGP6xs43UZXj3Ip_ALFONpz1FyjVR1xKJV_et6OF7wd7AytuPZuPhQAbu-K-tbR-f8x_APs3J7juWQHIlt7ID6jMXoG98MCK22rVTWh3FKCuYTjOhmiSuVRCmIltH_VQNJoL1I8imJIciX-3GeY6s8uF9iQ919H7IQWqATTkzXT9WU6s8tVDPuNuK0MuWW5VOeXiDdzb1tKxMStOqJ9eQ_BcFh3s-k7mApbUvVuwbqagoCBO3tojeYI2fXAfsCfKLpQzFFLT9E1JnAPgOfhrbEP2EYesxK05VoC7m4V-CcBunTonSIHD2LXedXPdjxDgABxeJSdpFA7r9tLnl2-1_-lBAqGRzUhPwCAORHfEXLgGX8zV40kPgi7vXL2Tl3ifNF9EJFn1fIF51TtjNkOck61upGY7H-ipfDM928GOVkJbrTg6TzygLs8BHnl41BR7RUHMKKikiVJDhkNVoYqgggBhDudmW04FfDs1Hh-lRwsFIDo-m_Gm24Opwxo2AWWfkwYQinPPBRKt5PKuepgkaCajimz_SqpwZFsTnIuVUuBbDtb8xMugN735BcsDyUQ7kWtEA6S1-azj08uLUUnF82FvDtQWH9mHafuIapwmaes1yG1TcVT41qZSju5iQZvLfhOuEL7TkRvaSFeQJUZ0K4UGctUVNSH6cuKn90B4kY0gCAoHMlmM5-gBywJ9j-wFDrYg-X5G9bTWHsZoC5FDFlJ-EN9zuyptgeI9afy8lgat_mcYRBdaJO_mFT8ukPE62---iDlK6UzKidDvervvCvGxJFdTXlX7p4u4bXjXveP7rGsNH9dktp3x1LefNdTfMQg2h0KnbqmYyWJcjtksYghkYiyelwjM7a7WES3Gs4WYcuHFpF71pRNjrQ-poctY8nbweE9boiOMVhvj8xljXqRxzmT-cTvVTILWgWJLvr1lXPQ_DlLibdNuoptWG24abzta-l6_re5It_tncXntjLeeE9pV1dXjRfMsXL8llgG8LqV2bBU2qLuurIORz0hOq4_A1ao8BplPqvpOIN8kedCZzasKc').decode())" "$key" > $tmp_file 2>/dev/null; then
    echo "âŒ Incorrect password or decryption failed!"
    exit 1
fi
echo '# ðŸ” Encrypted & coded by Sriram' >> $tmp_file
chmod +x $tmp_file
python3 $tmp_file
rm $tmp_file
